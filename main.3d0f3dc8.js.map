{"version":3,"sources":["scripts/main.js"],"names":["body","document","listValue","querySelector","newEmployeeForm","createElement","convertCurrencyToNumber","value","Number","replaceAll","pushNotification","posTop","posRight","title","description","type","message","className","dataset","qa","style","top","right","innerHTML","append","setTimeout","remove","sortList","index","sortMethod","list","result","children","sort","a","b","valueA","innerText","valueB","value1","value2","localeCompare","validateFormData","formDataName","name","position","age","errorTypes","length","push","errorMessages","addEventListener","e","preventDefault","formData","Object","fromEntries","FormData","target","entries","valueSalary","salary","toLocaleString","newRow","office","reset","action","method","errorHeading","tableBody","contains","element","classList","parentElement","tableHeaders","querySelectorAll","selectedHeader","find","undefined","forEach","header","hasAttribute","removeAttribute","status","cellIndex"],"mappings":"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","file":"main.3d0f3dc8.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst body = document.body;\nconst listValue = document.querySelector('tbody');\nconst newEmployeeForm = document.createElement('form');\n\nconst convertCurrencyToNumber = (value) =>\n  Number(value.replaceAll('$', '').replaceAll(',', ''));\n\nfunction pushNotification(posTop, posRight, title, description, type = '') {\n  const message = document.createElement('div');\n\n  message.className = `notification ${type}`;\n  message.dataset.qa = 'notification';\n  message.style.top = `${posTop}px`;\n  message.style.right = `${posRight}px`;\n\n  message.innerHTML = `\n    <h2 class=\"title\">${title}</h2>\n    <p>${description}</p>\n  `;\n\n  body.append(message);\n\n  setTimeout(() => {\n    message.remove();\n  }, 2000);\n}\n\nfunction sortList(index, sortMethod) {\n  const list = document.querySelector('tbody');\n\n  const result = [...list.children].sort((a, b) => {\n    if (index === 4) {\n      const valueA = convertCurrencyToNumber(a.children[index].innerText);\n      const valueB = convertCurrencyToNumber(b.children[index].innerText);\n\n      if (sortMethod === 'off') {\n        return valueB - valueA;\n      }\n\n      return valueA - valueB;\n    }\n\n    const value1 = a.children[index].innerText;\n    const value2 = b.children[index].innerText;\n\n    if (sortMethod === 'off') {\n      return value2.localeCompare(value1);\n    }\n\n    return value1.localeCompare(value2);\n  });\n\n  list.append(...result);\n}\n\nnewEmployeeForm.addEventListener('submit', (e) => {\n  e.preventDefault();\n\n  const formData = Object.fromEntries(new FormData(e.target).entries());\n\n  if (!validateFormData(formData)) {\n    return;\n  }\n\n  const valueSalary = Number(formData.salary).toLocaleString('en-US');\n\n  const newRow = document.createElement('tr');\n\n  newRow.innerHTML = `\n    <td>${formData.name}</td>\n    <td>${formData.position}</td>\n    <td>${formData.office}</td>\n    <td>${formData.age}</td>\n    <td>$${valueSalary}</td>\n  `;\n\n  listValue.append(newRow);\n  e.target.reset();\n\n  pushNotification(\n    500,\n    10,\n    'Success!',\n    'Good!<br>Employee has been added!',\n    'success'\n  );\n});\n\nfunction validateFormData({ name: formDataName, position, age }) {\n  const errorTypes = [];\n\n  if (formDataName.length < 4) {\n    errorTypes.push('name');\n  }\n\n  if (!position) {\n    errorTypes.push('position');\n  }\n\n  if (+age < 18 || +age > 90) {\n    errorTypes.push('age');\n  }\n\n  if (errorTypes.length) {\n    pushNotification(500, 10, 'Error!', errorMessages[errorTypes[0]], 'error');\n\n    return false;\n  }\n\n  return true;\n}\n\nnewEmployeeForm.className = 'new-employee-form';\nnewEmployeeForm.action = '#';\nnewEmployeeForm.method = 'post';\n\nnewEmployeeForm.innerHTML = `\n  <label>Name: <input data-qa=\"name\" name=\"name\" type=\"text\"></label>\n  <label>Position: <input\n    data-qa=\"position\" name=\"position\" type=\"text\"></label>\n  <label>Office: <select data-qa=\"office\" name=\"office\">\n    <option>Tokyo</option>\n    <option>Singapore</option>\n    <option>London</option>\n    <option>New York</option>\n    <option>Edinburgh</option>\n    <option>San Francisco</option>\n    </select>\n  </label>\n  <label>Age: <input\n    data-qa=\"age\" name=\"age\" type=\"number\"></label>\n  <label>Salary: <input data-qa=\"salary\" name=\"salary\" type=\"number\"></label>\n  <button type=\"submit\">Save to table</button>\n`;\n\nbody.append(newEmployeeForm);\n\nconst errorMessages = ((errorHeading) => ({\n  name: `${errorHeading}\n  <br>Name field cannot be empty! Or less then 4 letters!`,\n  position: `${errorHeading}<br>Position field cannot be empty!`,\n  age: `${errorHeading}<br>Age must be more 18 & less 90`,\n}))('Something went wrong!');\n\naddEventListener('click', (e) => {\n  const tableBody = document.querySelector('tbody');\n\n  if (!tableBody.contains(e.target)) {\n    return;\n  }\n\n  for (const element of tableBody.children) {\n    if (element.classList.contains('active')) {\n      element.classList.remove('active');\n    }\n  }\n\n  e.target.parentElement.className = 'active';\n});\n\naddEventListener('click', (e) => {\n  const tableHeaders = [...document.querySelectorAll('th')];\n  const selectedHeader = tableHeaders.find(\n    (element) => element.innerText === e.target.innerText);\n\n  if (selectedHeader === undefined) {\n    return;\n  }\n\n  tableHeaders.forEach((header) => {\n    if (header.hasAttribute('data-status') && header !== selectedHeader) {\n      header.removeAttribute('data-status');\n    }\n  });\n\n  if (selectedHeader.dataset.status === 'on') {\n    selectedHeader.dataset.status = 'off';\n  } else {\n    selectedHeader.dataset.status = 'on';\n  }\n\n  sortList(selectedHeader.cellIndex, selectedHeader.dataset.status);\n});\n"]}